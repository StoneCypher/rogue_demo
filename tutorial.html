<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>tutorial</title></head><body><article class="markdown-body"><p>It&rsquo;s straight up trivial.  Also, look into ZAngband - more content, less trying to be funny.</p>
<p>The phrase you&rsquo;re looking for is &ldquo;roguelike development.&rdquo;  This turns out to be a long standing dev community (except for the javascript part.)</p>
<hr />
<h1 id="getting-started"><a name="user-content-getting-started" href="#getting-started" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Getting started</h1>
<p>Anyway, suppose you have a map that looks like</p>
<pre><code>##+#########
#@....######
#...R.##...#
#.$...##.w.#
###+####...#
###....=..w#
########...#
############
</code></pre>
<p>Rendering that is easy a zillion ways.  Since you&rsquo;re new, I think you should use a <code>&lt;table&gt;</code>, because that&rsquo;s easy to wrap your head around; an experienced person would probably instead absolutely position <code>&lt;span&gt;</code>s inside a fixed-size scrollable container, but let&rsquo;s not bother with that for now.  Baby steps.</p>
<p>First, you need the map data as a value in your JavaScript.  For now we&rsquo;ll just use that fixed map; making your own map is one of the fun parts.</p>
<p>Note: \n means &ldquo;new line.&rdquo;  It&rsquo;s like hitting return.</p>
<pre><code>var map = '##+#########' +  // todo: remove player, creatures, objects
        '\n#@....######' +
        '\n#...R.##...#' +
        '\n#.$...##.w.#' +
        '\n###+####...#' +
        '\n###....=..w#' +
        '\n########...#' +
        '\n############';
</code></pre>
<p>A good design wouldn&rsquo;t use the letters to store the map state, and neither will we, but this gets us a place to start.  I often proceed by putting bullshit in place, then writing notes reminding me what to remove, then removing that as I go; it lets me work in a more &ldquo;complete&rdquo; space, where things are (fake) already in place, which I find easier.</p>
<p>If you do this, <em>don&rsquo;t</em> skip the reminder comments.</p>
<hr />
<h1 id="having-a-page-to-draw-into"><a name="user-content-having-a-page-to-draw-into" href="#having-a-page-to-draw-into" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Having a page to draw into</h1>
<p>Next, let&rsquo;s draw that in our document.  We&rsquo;ll need a host document (<code>index.html</code>,) which might look something like this:</p>
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;

  &lt;head&gt;
    &lt;script defer type="text/javascript" src="rogue_demo.js"&gt;&lt;/script&gt;
    &lt;link rel="stylesheet" type="text/css" href="rogue_demo.css"/&gt;
    &lt;title&gt;Rogue demo&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>At this point, please put a simple <code>window.alert('hello');</code> in the relevant javascript file, and set the body background color to orange in the relevant CSS file, and load the result.  This ensures that all files are in appropriate places, that the tags have the filenames and attributes correct, et cetera.</p>
<p>Assuming those both go well, remove the alert and the orange, and let&rsquo;s please continue.</p>
<hr />
<h1 id="the-worst-looking-render"><a name="user-content-the-worst-looking-render" href="#the-worst-looking-render" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The worst looking render</h1>
<p>A simple way to get some satisfaction immediately - and don&rsquo;t underestimate how important that is - is to throw that map on screen, so that you know you&rsquo;re getting something.</p>
<p>Let&rsquo;s do that.  Please put the map variable from above in, and then what we&rsquo;ll do is write two functions - <code>MapDraw</code> and <code>onStart</code>.</p>
<h2 id="mapdraw"><a name="user-content-mapdraw" href="#mapdraw" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>MapDraw</h2>
<p>The first function, <code>MapDraw</code>, we&rsquo;ll start in idiot-simple territory.  We&rsquo;re going to create an HTML element <code>&lt;pre&gt;</code>, which makes fixed-width non-scrolling non-stripped text, and we&rsquo;re going to fill it with the map text, then return that.</p>
<pre><code>function MapDraw(map) {
  return '&lt;pre&gt;' + map.toString() + '&lt;/pre&gt;';
}
</code></pre>
<p>Later we&rsquo;ll replace this with a much better one.</p>
<h2 id="onstart"><a name="user-content-onstart" href="#onstart" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>onStart</h2>
<p>This is sort of our checkered flag to go.  Web browsers will emit an event called <code>window.onload</code> when everything&rsquo;s ready to begin.  What we need to do is create a function (we&rsquo;ll call it an &ldquo;event handler&rdquo;, which doesn&rsquo;t have a technical meaning in this language, but rather reminds us of its purpose) whose goal is to hook <code>window.event</code> and do our setup tasks.  At this time that only means drawing the map, though that will be a growing list.</p>
<pre><code>function onStart() {
  document.body.innerHTML = MapDraw(map);
}
</code></pre>
<p>And we also need to assign that to <code>window</code> as the function meant to handle that event, like so:</p>
<pre><code>window.onload = onStart;
</code></pre>
<h2 id="and-thats-a-soup"><a name="user-content-and-thats-a-soup" href="#and-thats-a-soup" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>And that&rsquo;s a soup</h2>
<p>Your end result should look something like this:</p>
<pre><code>var map = '##+#########' +  // todo: remove player, creatures, objects
        '\n#@....######' +
        '\n#...R.##...#' +
        '\n#.$...##.w.#' +
        '\n###+####...#' +
        '\n###....=..w#' +
        '\n########...#' +
        '\n############';

function MapDraw(map) {
  return '&lt;pre&gt;' + map.toString() + '&lt;/pre&gt;';
}

function onStart() {
  document.body.innerHTML = MapDraw(map);
}

window.onload = onStart;
</code></pre>
<p>Save that and the HTML in some directory (the HTML source expects the JS to be called <code>rogue_demo.js</code>,) and open the index; you should now see a shitty, fully JS map being rendered.</p>
<p><a href="todo whargarbl">Step 1</a></p>
<hr />
<h1 id="an-aside"><a name="user-content-an-aside" href="#an-aside" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>An Aside</h1>
<blockquote>
<p>Why not just keep it in a <code>&lt;pre&gt;</code> forever, then?</p>
</blockquote>
<p>Because having individually placed cells is easier to hook events (click, hover, touch, etc) to, and for spells, that needs to include empty floor and walls, so that&rsquo;s everything, not just items and monsters, so wrapping everything in <code>&lt;span&gt;</code>s quickly becomes silly.</p>
<p>.</p>
<blockquote>
<p>But I heard that <code>&lt;table&gt;</code> was bad</p>
</blockquote>
<p>Uh huh.</p>
<p>.</p>
<blockquote>
<p>Why not just place <code>&lt;span&gt;</code>s directly?</p>
</blockquote>
<p>Oh, you can.  That&rsquo;s actually a good route.  But it involves math, bounding boxes, forced empty rendering, and some hairy portability things, and this is a noob, so I&rsquo;m trying to keep it simple.  Tables are simple.</p>
<p>.</p>
<blockquote>
<p>Flexbox?</p>
</blockquote>
<p>Shut up.</p>
<hr />
<h1 id="it-looks-weird"><a name="user-content-it-looks-weird" href="#it-looks-weird" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>It looks weird</h1>
<p>I know.  It&rsquo;s the web.  Let&rsquo;s start fixing that.  Make a CSS file called <code>rogue_demo.css</code> and let&rsquo;s put a starting step towards it.</p>
<pre><code>body, html, pre { margin: 0; padding: 0; border: 0; }
</code></pre>
<p>That&rsquo;s CSS-ese for &ldquo;don&rsquo;t put any spacing or lines around these three tags.&rdquo;  Save that, reload, and watch it look slightly less terrible.</p>
<p>We&rsquo;re going to start putting effort into the appearance later.  For now, it&rsquo;s good enough to see that it&rsquo;s under control.  Effort expended now would be wasted; we&rsquo;re about to change how that map is drawn.</p>
<hr />
<h1 id="less-bad-map"><a name="user-content-less-bad-map" href="#less-bad-map" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Less-bad map</h1>
<p>There are a tremendous number of ways to represent a map, and some of the most interesting roguelike design can be found in fundamental map representation.  However, that&rsquo;s a difficult topic.  Today we&rsquo;ll do a straightforward map.</p>
<p>There are two approaches to a straightforward map.  Each has their upsides and downsides.  You see the other above: a string representation.  That&rsquo;s a good approach, actually, for a lot of things, particularly for hand-drawn special regions.  However, it also has a whole <em>lot</em> of problems, like that it makes procedural generation, your bread and butter, borderline impossible.</p>
<p>The reason it&rsquo;s such a great first step, though, is actually very compelling: you take a look at it and you know exactly what you&rsquo;re looking at.  High class roguelikes (the Angband, Crawl, Hack, ADOM, Torchlight, and Diablo families, for example) have a whole lot of fixed special areas; a few of them (FTL, X-Com, Syndicate) are made entirely or nearly entirely out of fixed special areas.  These are very powerful tools, and you want to be able to make them quickly, easily, and while having fun, yeah?</p>
<p>Let&rsquo;s start by showing the other approach; after that, I can explain how we&rsquo;ll handle the dichotomy.  (Pro tip: we&rsquo;re gonna cheat.)</p>
<h2 id="map-as-a-grid"><a name="user-content-map-as-a-grid" href="#map-as-a-grid" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Map-as-a-grid</h2>
<p>The closest thing we have to a grid in JavaScript is an array-of-arrays, unless you&rsquo;re going off into the woods and implementing some shit in classes or decorators or whatever, which, y&rsquo;know, don&rsquo;t.</p>
<p>Why this approach is better is simple: you get to refer to cells like map[3][5], which means drawing a box here and a line there and a random cloud over yonder is pretty straightforward, because numbers.  If you were trying to do that on a string, you&rsquo;d have to do a bunch of math to figure out where in the string it went (and by the way, javascript strings aren&rsquo;t iteration-fast, because of unicode technicalities, so that&rsquo;ll be slooooow.)</p>
<p>So that looks something like (don&rsquo;t worry, I&rsquo;ll de-horrible this afterwards):</p>
<pre><code>var map = [ [ '#', '#', '+', '#', '#', '#', '#', '#', '#', '#', '#', '#' ], // todo: remove player, creatures, objects
            [ '#', '@', '.', '.', '.', '.', '#', '#', '#', '#', '#', '#' ],
            [ '#', '.', '.', '.', 'R', '.', '#', '#', '.', '.', '.', '#' ],
            [ '#', '.', '$', '.', '.', '.', '#', '#', '.', 'w', '.', '#' ],
            [ '#', '#', '#', '+', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '.', '.', '.', '.', '=', '.', '.', 'w', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
          ];
</code></pre>
<p>Now, obviously you don&rsquo;t want to write maps like that by hand.  But, already some improvements are obvious: the newlines are gone, the math to see what&rsquo;s north or south is just add one or subtract one, it&rsquo;s straightforward to blot out regions, et cetera.</p>
<p>Later, we&rsquo;ll go back and resurrect map strings, because they matter a lot.  But for now, let&rsquo;s get this new one working.</p>
<h2 id="now-we-render-this-new-map-as-a-table"><a name="user-content-now-we-render-this-new-map-as-a-table" href="#now-we-render-this-new-map-as-a-table" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Now we render this new map as a <code>&lt;table&gt;</code></h2>
<p>Since we have to gut and redo the map draw, this is as good a time as any to switch to <code>&lt;table&gt;</code>, too.  It&rsquo;s actually easier for this map type anyway.</p>
<p>Let&rsquo;s write a few simple arrow functions to handle this for us.  An arrow function is an anonymous function that takes either a bare argument or a list of arguments, then implicitly returns the statement you issue.  If there&rsquo;s only one argument you can skip the <code>()</code> framing on the arglist, and if there&rsquo;s only one statement you can skip the <code>{}</code> framing on the body.  This leads to extremely terse lambdas.</p>
<p>Check it out:</p>
<pre><code>var RenderCell =    cell =&gt; '&lt;td&gt;' + cell.toString() + '&lt;/td&gt;',
    RenderRow  =     row =&gt; '&lt;tr&gt;' + (row.map(RenderCell).join('')) + '&lt;/tr&gt;',
    RenderMap  = mapdata =&gt; '&lt;table&gt;&lt;tbody&gt;' + (mapdata.map(RenderRow).join('')) + '&lt;/tbody&gt;&lt;/table&gt;';
</code></pre>
<p>That says<br />
  * RenderCell is an arrow function, taking cell, yielding the cell to string framed in a <code>&lt;td&gt;</code><br />
  * RenderRow is an arrow function, taking a row, which maps the row as an array with <code>RenderCell</code>, joins the result with nothing inbetween, and frames it in a <code>&lt;tr&gt;</code><br />
  * RenderMap is an arrow function, taking a mapdata, which maps the mapdata as an array with <code>RenderRow</code>, joins the result with nothing inbetween, and frames it in <code>&lt;table&gt;&lt;tbody&gt;</code>.</p>
<p>This work is all currently done with strings.  That won&rsquo;t stay true forever, but it works for now.</p>
<p>At this point the new map renders, but is no longer in a fixed-width font; on most systems the <code>@</code> is much wider than the other characters, and so the map will appear to be slightly broken.  That&rsquo;s okay; this is a progress point <code>:)</code></p>
<p>We also update our <code>onStart</code> to call <code>RenderMap</code> instead of <code>MapDraw</code>.</p>
<p>The new JS should look something like this:</p>
<pre><code>var map = [ [ '#', '#', '+', '#', '#', '#', '#', '#', '#', '#', '#', '#' ], // todo: remove player, creatures, objects
            [ '#', '@', '.', '.', '.', '.', '#', '#', '#', '#', '#', '#' ],
            [ '#', '.', '.', '.', 'R', '.', '#', '#', '.', '.', '.', '#' ],
            [ '#', '.', '$', '.', '.', '.', '#', '#', '.', 'w', '.', '#' ],
            [ '#', '#', '#', '+', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '.', '.', '.', '.', '=', '.', '.', 'w', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
          ];

var RenderCell =    cell =&gt; '&lt;td&gt;' + cell.toString() + '&lt;/td&gt;',
    RenderRow  =     row =&gt; '&lt;tr&gt;' + (row.map(RenderCell).join('')) + '&lt;/tr&gt;',
    RenderMap  = mapdata =&gt; '&lt;table&gt;&lt;tbody&gt;' + (mapdata.map(RenderRow).join('')) + '&lt;/tbody&gt;&lt;/table&gt;';


function onStart() {
  document.body.innerHTML = RenderMap(map);
}

window.onload = onStart;
</code></pre>
<p>And now our map is rendered as a <code>&lt;table&gt;</code>, which has important benefits coming up.</p>
<p>Except &hellip; we&rsquo;ve lost string maps <code>:(</code></p>
<p><a href="todo whargarbl">Step 2</a></p>
<hr />
<h1 id="the-string-map-conundrum"><a name="user-content-the-string-map-conundrum" href="#the-string-map-conundrum" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The string map conundrum</h1>
<p>The thing is, hand drawn regions are important for making a game setting.  <strong><em>Really important</em></strong>.  So, we want them, even though the above array map is super obviously better.</p>
<h2 id="the-cheating-part"><a name="user-content-the-cheating-part" href="#the-cheating-part" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The cheating part</h2>
<p>The key thing we need to do is to make a thing that takes one and makes the other.  The benefits of the string one are to the human, and the benefits of the array one are to the machine and to your software, so, let&rsquo;s take the string one, and make the array one.  &lsquo;s actually pretty easy.</p>
<p>There are more efficient ways to do this which are less easy.  I&rsquo;m going to use ES6; this won&rsquo;t work in older browsers, and setting up shims or <code>babel.js</code> is outside the scope of this discussion.  <code>dealwithit.jpg</code></p>
<pre><code>var mapStringToGameMap = mapString =&gt; mapString.split('\n').map( row =&gt; row.split('') );
</code></pre>
<p>What that does:</p>
<ol>
<li>Takes a <code>mapString</code>, which we intend to convert into a <code>GameMap</code>, by</li>
<li>taking the <code>mapString</code>,</li>
<li><code>split</code>ing it on the newline, yielding an array of each row,</li>
<li><code>map</code>ping (sorry, coincidence) over those rows with</li>
<li>the <code>arrow function</code> &ldquo;`row =&gt; row.split(&lsquo;&rsquo;)&rdquo;</li>
<li>which means the end result is that arrow function&rsquo;s result over each row</li>
<li>the arrow function just says &ldquo;take the row and return the result of <code>split()</code>ing it&rdquo;</li>
<li>in javascript, split() with an empty string argument on a string yields an array of each letter</li>
<li>which got done to each row (by the <code>map()</code>,) as a way to build our result</li>
<li>which is our new <code>GameMap</code>, an array of arrays of letters</li>
<li>and return that result</li>
</ol>
<p>Later, as GameMaps become more powerful, that function will have to, too.  (Or rather, we&rsquo;ll make a class after all, and use this as one way to initialize them.)</p>
<p>But for now that will do.</p>
<h2 id="wossit-do"><a name="user-content-wossit-do" href="#wossit-do" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Wossit do</h2>
<p>Let&rsquo;s hook it up.  Let&rsquo;s grab the old string version of the map; let&rsquo;s change the <code>w</code>s in the sample map to <code>p</code>s so you can see the difference between the two maps visually; then let&rsquo;s hook up string maps in our array map system.</p>
<p>First, the old string map, slightly altered:</p>
<pre><code>var str_map = '##+#########' +  // todo: remove player, creatures, objects
            '\n#@....######' +
            '\n#...R.##...#' +
            '\n#.$...##.p.#' +
            '\n###+####...#' +
            '\n###....=..p#' +
            '\n########...#' +
            '\n############';
</code></pre>
<p>Next, using it as a source is straightforward; we just wire onStart to call for different initial data:</p>
<pre><code>function onStart() {
  document.body.innerHTML = RenderMap(mapStringToGameMap(str_map));
}
</code></pre>
<p>Your source should now look something like this:</p>
<pre><code>var str_map = '##+#########' +  // todo: remove player, creatures, objects
            '\n#@....######' +
            '\n#...R.##...#' +
            '\n#.$...##.p.#' +
            '\n###+####...#' +
            '\n###....=..p#' +
            '\n########...#' +
            '\n############';

var map = [ [ '#', '#', '+', '#', '#', '#', '#', '#', '#', '#', '#', '#' ], // todo: remove player, creatures, objects
            [ '#', '@', '.', '.', '.', '.', '#', '#', '#', '#', '#', '#' ],
            [ '#', '.', '.', '.', 'R', '.', '#', '#', '.', '.', '.', '#' ],
            [ '#', '.', '$', '.', '.', '.', '#', '#', '.', 'w', '.', '#' ],
            [ '#', '#', '#', '+', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '.', '.', '.', '.', '=', '.', '.', 'w', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '.', '.', '.', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
            [ '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#' ],
          ];

var RenderCell =              cell =&gt; '&lt;td&gt;' + cell.toString() + '&lt;/td&gt;',
    RenderRow  =               row =&gt; '&lt;tr&gt;' + (row.map(RenderCell).join('')) + '&lt;/tr&gt;',
    RenderMap  =           mapdata =&gt; '&lt;table&gt;&lt;tbody&gt;' + (mapdata.map(RenderRow).join('')) + '&lt;/tbody&gt;&lt;/table&gt;',
    mapStringToGameMap = mapString =&gt; mapString.split('\n').map( row =&gt; row.split('') );

function onStart() {
  document.body.innerHTML = RenderMap(mapStringToGameMap(str_map));
}

window.onload = onStart;
</code></pre>
<p>And now we have an array map system rendering from map strings; the best of both worlds <code>:)</code></p>
<p>Let&rsquo;s do something with that world.  But first, another de-uglying pass.</p>
<p><a href="todo whargarbl">Step 3</a></p>
<hr />
<p>First, in the <code>RenderMap</code> arrow function, let&rsquo;s give the <code>&lt;table&gt;</code> an <code>id</code> that we can hook rules to shamelessly.</p>
<pre><code>RenderMap = mapdata =&gt; '&lt;table id="gamemap"&gt;&lt;tbody&gt;' + (mapdata.map(RenderRow).join('')) + '&lt;/tbody&gt;&lt;/table&gt;',
</code></pre>
<p>Next, in the CSS, let&rsquo;s start by enforcing an actual square grid.  Let&rsquo;s also make the page background slightly gray, and the default map cell white text on black background, which is obviously wrong.  More on that soon.</p>
<pre><code>body        { background-color: #eee; }
#gamemap    { border-collapse: collapse; }
#gamemap td { height: 1em; width: 1em; background-color: black; color: white; }
</code></pre>
<p>Let&rsquo;s also add some rules to the map cells that prevent overflow, that strip out default extra spacing and border lines, and that center text both horizontally and vertically within the cells (the last piece won&rsquo;t work outside table cells.)</p>
<pre><code>#gamemap td { height: 1em; width: 1em; background-color: black; color: white; overflow: hidden;
              margin: 0; padding: 0; border: 0; text-align: center; vertical-align: middle; }
</code></pre>
<p>Now things look dramatically less awful.  Let&rsquo;s get some active map behavior in, so that we can get properly started.</p>
<p>Fortunately we can start making faster steps now, too.</p>
<p><a href="todo whargarbl">Step 4</a></p>
<hr />
<h1 id="lets-interpret-the-map"><a name="user-content-lets-interpret-the-map" href="#lets-interpret-the-map" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Let&rsquo;s interpret the map</h1>
<p>So right now we&rsquo;re having the map fly blind on strings.  That&rsquo;s awful.  It&rsquo;s a nice bootstrapping notation but it won&rsquo;t do properly.  Let&rsquo;s have it be interpreted into something reasonable, instead; then we can get a better map to be rendered.</p>
<p>We need two pieces to safely undo that; afterwards we can do whatever dumb thing we like.  First, we need to make a cell object, instead of just some single letter string; second, we need to modify the table builder to call the ostensible method on the cell class which tells it what to contain.</p>
<p>Honestly I&rsquo;d like to do the cell object as an ES6 class, but your browser probably doesn&rsquo;t support them by default yet, and I don&rsquo;t want to cover <code>babel</code> this morning.</p>
<h2 id="making-a-map-cell"><a name="user-content-making-a-map-cell" href="#making-a-map-cell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Making a map cell</h2>
<p>First, the <code>cell</code> is (initially) simple enough: take an input, bind it to a closure variable, return an object that craps out the closure variable on request.  Cool.</p>
<pre><code>function cell(input) {
  var content = input;
  return {
    htmlRepresentation: function() { return content; }
  };
}
</code></pre>
<p><a href="todo whargarbl">Step 6</a></p>
<h1 id="using-the-map-cell"><a name="user-content-using-the-map-cell" href="#using-the-map-cell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Using the map cell</h1>
<p>It&rsquo;s time to start actually leveraging our map.</p>
<p>Next we change the string map consumer to apply the individual characters as the cell argument, instead of to just return them as an array.  Simple enough: map that array with the <code>cell</code> call.</p>
<pre><code>mapStringToGameMap = mapString =&gt; mapString.split('\n').map( row =&gt; row.split('').map(chr =&gt; cell(chr)) );
</code></pre>
<p>Concomitantly, we need to alter the cell renderer to use the representation method, since it&rsquo;s no longer able to just dump in string contents.</p>
<pre><code>RenderCell = cell =&gt; '&lt;td&gt;' + cell.htmlRepresentation() + '&lt;/td&gt;',
</code></pre>
<p>And if we look, we <em>now</em> have a semi-real game map with active cells.  For example, let&rsquo;s do (in a bad way) a little work to highlight the player.  First, we&rsquo;ll add another instance variable to the cell (<strong>temporarily</strong>) called isPlayer, and if it&rsquo;s there, we&rsquo;ll change the cell color.</p>
<pre><code>function cell(input) {

  var content  = input,
      isPlayer = (input === '@');

  return {
    htmlRepresentation: function() { return isPlayer? ('&lt;span style="color:blue"&gt;' + content + '&lt;/span&gt;') : content; }
  };

}
</code></pre>
<p>This is fairly useless and terrible, but it shows that our map is actively being interpreted.</p>
<p>Styling inside the table cells is silly.  Let&rsquo;s style the table cells directly.  That means transferring the ownership of the <code>&lt;td&gt;</code> into the class, so let&rsquo;s start there.</p>
<p>First, the representation call changes as so (we&rsquo;ll change it to green so we know it&rsquo;s the new code working):</p>
<pre><code>htmlRepresentation: function() {
  var style = isPlayer? 'color: green' : '';
  return '&lt;td style="' + style + '"&gt;' + content + '&lt;/td&gt;';
}
</code></pre>
<p>Next, <code>RenderCell</code> kind of doesn&rsquo;t need to exist anymore: all it did was wrap the <code>cell</code> class&rsquo; render method in a <code>&lt;td&gt;</code>, and that is now provided.  So we can call the <code>cell</code> class&rsquo; render method directly with an arrow function to make the access, and burn <code>RenderCell</code>.</p>
<pre><code>RenderRow = row =&gt; '&lt;tr&gt;' + (row.map( cell =&gt; cell.htmlRepresentation() ).join('')) + '&lt;/tr&gt;',
</code></pre>
<p>This now means that the <code>cell</code> can style the table cell directly.  Let&rsquo;s teach it about that.</p>
<p><a href="todo whargarbl">Step 7</a></p>
<hr />
<p>Let&rsquo;s start in the CSS by creating a few rules.  One for walls, one for floors, one for players, one for doors, one for monsters (just for now,) one for items (also for now), and one for simple treasure.</p>
<p>Initially we&rsquo;ll start with walls, floors, and the player, to get the infrastructure together; then we&rsquo;ll do the rest.</p>
<p>We&rsquo;re going to need effectively two styles for every cell: the base and the top.  This is because the base will be the tile type (floor, lava, grass, trap, water, whatever), and there might be something (or many things) on top of it, such as a monster or treasure or whatever.</p>
<p>Usually, though not always, the top style will let the bottom background color through; rarely, but occasionally, it will also let the bottom foreground color through.  Each of these should be possible in our system.  It would also be nice if either could do other things, such as invoking font styling or whatever.</p>
<p>One way to achieve this is through CSS precedence.  Make a slightly more specific rule for top rules (we will use <code>&lt;tr&gt;</code> in the top rules but not in the bottom rules to get this result.)  Let the cascade handle the rest.</p>
<pre><code>#gamemap    td.wall   { background-color: dimgray;     color: silver; }
#gamemap    td.floor  { background-color: saddlebrown; color: moccasin; }

#gamemap tr td.player { color: cyan; }
</code></pre>
<p>This allows the player to stand on floor and get a brown background, but to override the floor&rsquo;s yellowish foreground with cyan.</p>
<p>Now we extend this to the other rules we want initially:</p>
<pre><code>body, html, pre       { margin: 0; padding: 0; border: 0; }

body                  { background-color: #eee; }
#gamemap              { border-collapse: collapse; }
#gamemap td           { height: 1em; width: 1em; background-color: black; color: white; overflow: hidden;
                        margin: 0; padding: 0; border: 0; text-align: center; vertical-align: middle; }

/* withhold a tr from the rule for tilekinds to force a precedence loss */
#gamemap    td.wall     { background-color: dimgray;     color: gray; }
#gamemap    td.floor    { background-color: saddlebrown; color: moccasin; }
#gamemap    td.grass    { background-color: green;       color: lawngreen; }
#gamemap    td.water    { background-color: dodgerblue;  color: darkturquoise; }
#gamemap    td.lava     { background-color: crimson;     color: tomato; }

/* add a tr to the rule for topkinds to force a precedence win */
#gamemap tr td.player   { color: cyan; }
#gamemap tr td.person   { color: white; }

#gamemap tr td.reptile  { color: green; }
#gamemap tr td.worm     { color: puce; }

#gamemap tr td.item     { color: blue; }
#gamemap tr td.treasure { color: gold; }
#gamemap tr td.door     { color: silver; font-weight: bold; }
</code></pre>
<p><a href="todo whargarbl">Step 8</a></p>
<hr />
<h1 id="why-are-items-map-features"><a name="user-content-why-are-items-map-features" href="#why-are-items-map-features" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Why are items map features?</h1>
<p>So, they aren&rsquo;t, is the short version.  Let&rsquo;s change <code>@</code> to mean &ldquo;forced player starting point on this map,&rdquo; which suggests it&rsquo;s optional; let&rsquo;s change the monster symbols to mean &ldquo;this is a forced monster spawn,&rdquo; treasure to mean treasure spawn, &amp;c.  Then we can just have the map scanner instantiate things it finds.  <code>:)</code></p>
<p>First let&rsquo;s free the player from their being a map feature.</p>
<p>When we render a cell, currently we ask the cell what it contains.  That means the cell is responsible for knowing where things are, instead of the (currently non-existent) feature containers.  This is a mistake.</p>
<p>Let&rsquo;s make feature containers (items, monsters, traps, &amp;c.)</p>
<p>There is only one player, so the feature container for a player is a singleton.  Initially we will track nothing but their location, which we will default to <code>(0,0)</code> for now.  We will take an options argument to allow that default location to be overridden.</p>
<pre><code>function makePlayer(opts) {

  return {
    x: opts.x || 0,
    y: opts.y || 0
  };

}

var player = null;
</code></pre>
<p>Next let&rsquo;s beef up the row that creates from an &lsquo;@&rsquo; cell in the string map, to instead actually create a player object after validating that&rsquo;s the right thing to do:</p>
<pre><code>case '@' :
  if (player) { throw 'cannot have two player spawn points on one stringMap!'; }
  player     = makePlayer({ x: i, y: j });
  tileKind   = 'floor';
  tileSymbol = '.';
  break;
</code></pre>
<p>Next we need to add some goo in <code>htmlRepresentation</code> that checks the other sources (currently only player) before deciding what to render.</p>
<pre><code>htmlRepresentation: function() {

  var isPlayer   = (player !== null) &amp;&amp; (i === player.x) &amp;&amp; (j === player.y),
      uTopKind   = isPlayer? 'player' : topKind,
      uTopSymbol = isPlayer? '@'      : topSymbol,
      tclass     = (uTopKind? (uTopKind + ' ') : '') + tileKind,
      tconts     = (uTopSymbol? uTopSymbol : tileSymbol);

  return '&lt;td class="' + tclass + '"&gt;' + tconts + '&lt;/td&gt;';

}
</code></pre>
<p>If you save and load now, the player is no longer a map feature, but there&rsquo;s no way to see that &hellip; until you make them move.</p>
<p>At this time I&rsquo;m going to add a keyboard handling library called &ldquo;mousetrap&rdquo; to the HTML, to handle key binding.  And then we&rsquo;ll give this hilariously incorrect initial implementation of movement:</p>
<pre><code>Mousetrap.bind('up',    function() { player.y -= 1; Render(); });
Mousetrap.bind('right', function() { player.x += 1; Render(); });
Mousetrap.bind('down',  function() { player.y += 1; Render(); });
Mousetrap.bind('left',  function() { player.x -= 1; Render(); });
</code></pre>
<p>We should also split the render apart from the initial string parse, and track the map and string map separately, because that matters now:</p>
<pre><code>var player  = null,
    map     = null,
    str_map = '##+#########' +  // todo: remove player, creatures, objects
            '\n#@....######' +
            '\n#...R.##...#' +
            '\n#.$...##.p.#' +
            '\n###+####...#' +
            '\n###....+..p#' +
            '\n########...#' +
            '\n############';

function Render() {
  document.body.innerHTML = RenderMap(map);
}

function onStart() {
  map = mapStringToGameMap(str_map);
  Render();
}
</code></pre>
<p>And now your little dude can move - though he has no bounds, like walking through walls, or off of the map.  Let&rsquo;s fix that next.</p>
<p><a href="todo whargarbl">Step 9</a></p>
<hr />
<h1 id="gulp-babel-and-browserify"><a name="user-content-gulp-babel-and-browserify" href="#gulp-babel-and-browserify" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Gulp, Babel, and Browserify</h1>
<p>Actually I lied.  Twice.  First I said I didn&rsquo;t want to set up a babel system, and then I said let&rsquo;s fix movement next.</p>
<p>The thing is, a lot of this is easier if we have full ES6, and the code is getting a little bit cumbersome; I&rsquo;d like to break it up.</p>
<p>So let&rsquo;s build a quick gulp system (this implies having <code>node.js</code> set up) that uses <code>babel</code> to take modern code you write and &ldquo;transpile&rdquo; (convert) it to older JS that all browsers can eat; then let&rsquo;s also use <code>browserify</code> to package that up so that we don&rsquo;t have to think about it.</p>
<p>So.  I will assume that you have <code>node.js</code> installed, which comes with <code>npm</code>, a package manager.  If not, <a href="https://nodejs.org/en/download/">go here and install it</a> before continuing.  It&rsquo;s quite easy.</p>
<p>Go into a console or command prompt, and go into your project directory.  Type <code>npm init</code>.  You can hit return and accept all those default values if you want to, or you can add descriptive text and whatever (probably just hit return until it shuts up.)</p>
<p>Now if you look again, it created a file called <code>package.json</code>.  That is the way that an <code>npm</code> project is defined.</p>
<p>Please next type <code>npm install</code>.  That should appear to do nothing.  If you look, it&rsquo;ll create an empty directory called <code>node_modules</code>.  That&rsquo;s where things that <code>npm</code> installs go.  The current behavior is because the current project&rsquo;s install list is empty.</p>
<p>Let&rsquo;s add a few things to that install list - specifically</p>
<ol>
<li><code>gulp</code> - an automation tool so that we can not hand-do things</li>
<li><code>gulp-babel</code> - a gulp wrapper for a tool that converts modern JS (and other things) to portable JS</li>
<li><code>browserify</code> - a tool that packages your various JS together</li>
<li><code>del</code> - a tool for deleting directories</li>
</ol>
<p>How?</p>
<p><code>npm install --save-dev gulp gulp-babel browserify del</code></p>
<p>(this may take a bit)</p>
<p>When you write <code>--save-dev</code> you&rsquo;re telling the system to save this as a &ldquo;dev dependency.&rdquo;  A dependency is something <code>npm</code> will install in production.  A dev dependency is something <code>npm</code> will only install on developer machines.  So for example, if you use a documentation generation tool, it should be a dev dependency, because production doesn&rsquo;t need it.  (Most things should be dev dependencies.)</p>
<h2 id="gulpfile"><a name="user-content-gulpfile" href="#gulpfile" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Gulpfile</h2>
<p>The <code>gulpfile.js</code> is where you keep the various steps that the build system will take for you.  We&rsquo;ll just start it out with saying hello, to show that it works.</p>
<p>Please create a <code>gulpfile.js</code> with the following contents:</p>
<pre><code>var gulp  = require('gulp');

gulp.task('default', function() {
  console.log('hello, i am gulp');
});
</code></pre>
<p>And then go to your console and type gulp from your project directory, which should say something like</p>
<pre><code>John@SINISTAR4000 /c/projects/rogue_demo (master)
$ gulp
[13:51:33] Using gulpfile c:\projects\rogue_demo\gulpfile.js
[13:51:33] Starting 'default'...
hello, i am gulp
[13:51:33] Finished 'default' after 5.18 ms
</code></pre>
<p>We now have a trivial, pointless, working gulpfile.  Let&rsquo;s give it a raison d&rsquo;tre.</p>
<p>First, a simplistic build system.  We&rsquo;ll begin with a thing that destroys a build directory that doesn&rsquo;t yet exist.</p>
<hr /></article></body></html>